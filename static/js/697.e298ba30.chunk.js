"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[697],{277:(e,t,s)=>{s.d(t,{A:()=>d});var a=s(43),i=s(837),r=s(475);const n="MovieItem_movieItem__1SEks",o="MovieItem_movieLink__BN7ib",c="MovieItem_moviePoster__6lBWs",l="MovieItem_movieTitle__lsmBL";var u=s(579);const h=e=>{let{movie:t}=e;return(0,u.jsx)("li",{className:n,children:(0,u.jsxs)(r.N_,{to:`/movies/${t.id}`,className:o,children:[t.poster_path?(0,u.jsx)("img",{src:`https://image.tmdb.org/t/p/w200${t.poster_path}`,alt:t.title,className:c,style:{width:"245px",height:"365px"}}):(0,u.jsx)("img",{src:"path/to/default/image.jpg",alt:"No Poster Available",className:c,style:{width:"245px",height:"365px"}}),(0,u.jsx)("h2",{className:l,children:t.title||"No Title Available"})]})})},d=()=>{const[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)(null),[n,o]=(0,a.useState)(!0);return(0,a.useEffect)((()=>{(async()=>{o(!0);try{const e=await(0,i.MM)();t(e.results||[])}catch(e){r(e.message)}finally{o(!1)}})()}),[]),n?(0,u.jsx)("p",{children:"Loading..."}):s?(0,u.jsxs)("p",{children:["Error: ",s]}):(0,u.jsx)("div",{children:Array.isArray(e)&&e.length>0?e.map((e=>(0,u.jsx)(h,{movie:e},e.id))):(0,u.jsx)("p",{children:"No movies found."})})}},697:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var a=s(43),i=s(475),r=s(837),n=s(277),o=s(579);const c=()=>{const[e,t]=(0,a.useState)([]),[s,c]=(0,i.ok)(),l=s.get("query")||"",[u,h]=(0,a.useState)(null);(0,a.useEffect)((()=>{(async()=>{try{let e;if(e=l?await(0,r.q8)(l):await(0,r.RZ)(),!e||!Array.isArray(e.results))throw new Error("Invalid data structure");t(e.results)}catch(u){console.error("Error fetching movies:",u),h("Failed to fetch movies. Please try again later."),t([])}})()}),[l]);return(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{children:l?"Search Results":"Trending Movies"}),(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=e.currentTarget.elements.query.value;c({query:t})},children:[(0,o.jsx)("input",{type:"text",name:"query",defaultValue:l}),(0,o.jsx)("button",{type:"submit",children:"Search"})]}),u?(0,o.jsx)("p",{children:u}):e.length>0?(0,o.jsx)(n.A,{movies:e}):(0,o.jsx)("p",{children:"No movies found."})]})}},837:(e,t,s)=>{s.d(t,{LF:()=>l,MM:()=>n,RZ:()=>o,UM:()=>h,dk:()=>u,q8:()=>c});const a="55aa6ae40b9f98b84693daf1163a8814",i="https://api.themoviedb.org/3",r=async e=>{if(!e.ok)throw new Error(`Error: ${e.status} ${e.statusText}`);return e.json()},n=async function(){const e=`${i}/movie/popular?api_key=${a}&page=${arguments.length>0&&void 0!==arguments[0]?arguments[0]:1}`,t=await fetch(e);return r(t)},o=async function(){const e=`${i}/trending/all/day?api_key=${a}&page=${arguments.length>0&&void 0!==arguments[0]?arguments[0]:1}`,t=await fetch(e);return r(t)},c=async function(e){const t=`${i}/search/movie?api_key=${a}&query=${e}&page=${arguments.length>1&&void 0!==arguments[1]?arguments[1]:1}`,s=await fetch(t);return r(s)},l=async e=>{const t=`${i}/movie/${e}?api_key=${a}`,s=await fetch(t);return r(s)},u=async e=>{const t=`${i}/movie/${e}/credits?api_key=${a}`,s=await fetch(t);return r(s)},h=async function(e){const t=`${i}/movie/${e}/reviews?api_key=${a}&page=${arguments.length>1&&void 0!==arguments[1]?arguments[1]:1}`,s=await fetch(t);return r(s)}}}]);
//# sourceMappingURL=697.e298ba30.chunk.js.map